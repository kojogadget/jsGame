(()=>{var e={946:(e,t,n)=>{"use strict";n.r(t)},667:e=>{e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><title>cross</title><path d="M31.708 25.708c-0-0-0-0-0-0l-9.708-9.708 9.708-9.708c0-0 0-0 0-0 0.105-0.105 0.18-0.227 0.229-0.357 0.133-0.356 0.057-0.771-0.229-1.057l-4.586-4.586c-0.286-0.286-0.702-0.361-1.057-0.229-0.13 0.048-0.252 0.124-0.357 0.228 0 0-0 0-0 0l-9.708 9.708-9.708-9.708c-0-0-0-0-0-0-0.105-0.104-0.227-0.18-0.357-0.228-0.356-0.133-0.771-0.057-1.057 0.229l-4.586 4.586c-0.286 0.286-0.361 0.702-0.229 1.057 0.049 0.13 0.124 0.252 0.229 0.357 0 0 0 0 0 0l9.708 9.708-9.708 9.708c-0 0-0 0-0 0-0.104 0.105-0.18 0.227-0.229 0.357-0.133 0.355-0.057 0.771 0.229 1.057l4.586 4.586c0.286 0.286 0.702 0.361 1.057 0.229 0.13-0.049 0.252-0.124 0.357-0.229 0-0 0-0 0-0l9.708-9.708 9.708 9.708c0 0 0 0 0 0 0.105 0.105 0.227 0.18 0.357 0.229 0.356 0.133 0.771 0.057 1.057-0.229l4.586-4.586c0.286-0.286 0.362-0.702 0.229-1.057-0.049-0.13-0.124-0.252-0.229-0.357z"></path></svg>'},705:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPING_SPEED=void 0,t.TYPING_SPEED=20},92:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{u(s.next(e))}catch(e){i(e)}}function a(e){try{u(s.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((s=s.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(946);const u=i(n(901)),l=a(n(874)),d=a(n(337)),c=a(n(239)),p=a(n(857)),h=a(n(413));l.default.addHandlerIntro((function(){return o(this,void 0,void 0,(function*(){l.default.render()}))})),c.default.addHandlerName((function(){if(u.state.name)return;const e=c.default.getName();e&&(u.state.name=e,c.default.render(u.state.name),d.default.renderOption())})),p.default.addHandlerOptions((function(e){const t=u.games.find((t=>t.id===e));t&&(u.state.active=e,p.default.render(t.heading,"heading"),t.subHeading&&p.default.render(t.subHeading,"subHeading"),p.default.render(t.intro),d.default.setInteraction(t))})),p.default.addHandlerPlay((function(){const e=u.games.find((e=>e.id===u.state.active));if(!e)return;const t=p.default.gameResponse(e);t&&p.default.render(e.play(t),e.renderType)})),p.default.addHandlerExit((function(){d.default.renderOption(),d.default.resetResponse(),u.state.active="",h.default.render("","empty"),h.default.render(u.state.name)}))},901:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.games=t.state=void 0,t.state={name:"",active:""},t.games=[{heading:"Tic Tac Toe",id:"tictactoe",intro:"GAME NOT READY!",error:"",renderType:"",interaction:"",inputType:"",placeholder:["Question","Another question"],play:function(){return"NOT READY!"}},{heading:"Inventory Check",id:"inventorycheck",intro:"GAME NOT READY!",error:"",renderType:"",interaction:"",inputType:"",placeholder:["Question","Another question"],play:function(){return"NOT READY!"}},{heading:"Magic 8 Ball",id:"magic8Ball",intro:"Ask me a question!",error:"> You need to type something...",renderType:"",interaction:"response",inputType:"text",placeholder:["Question","Another question?"],play:function(){const e=["Not with that look...","Get out of here","Yes!","No..","Dum question..next!","We'll see","Maybe","Do you need a hug?","Think about it..","Hush!","Ew!","What is your point? Stupid..","k"];return e[Math.trunc(Math.random()*e.length)]}},{heading:"Collatz",subHeading:"Math's simplest impossible problem!<br>If you take a number through this equation the output will always become 1, whatever positive number. The equation will take a even number en divide it by 2, and a odd number will be multiplied by 3 and be added a 1. The result will go through the same process and finally give us 1 as the final result",id:"collatz",intro:"Try it out :)",error:"> You need to give a number...",renderType:"quick",interaction:"response",inputType:"number",inputOption:["min","1"],placeholder:["Number","Try again :)"],play:function(e){let t=+e;const n=[t];for(;1!==t;)t%2==0?t/=2:t=3*t+1,n.push(t);return n.join(" -> ")}},{heading:"Guess The Number",id:"guessthenumber",intro:"GAME NOT READY!",error:"",renderType:"",interaction:"",inputType:"",placeholder:["Question","Another question"],play:function(){return"NOT READY!"}}]},180:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(667)),i=n(705);t.default=class{constructor(){this._textBox=document.querySelector(".text-box"),this._responseForm=document.querySelector(".response"),this._responseInput=document.querySelector(".response__text")}render(e="",t=""){if("heading"===t){const t=this._generateHeading(e);return this._parentElement.insertAdjacentHTML("beforeend",t),void this._setWindow()}if("subHeading"===t){const t=`<li class="message__text--sub">${e}</li>`;return void this._parentElement.insertAdjacentHTML("beforeend",t)}if("custom"===t){const t=(new Date).toISOString().slice(-12),n=e;this._parentElement.insertAdjacentHTML("beforeend",`\n      <li class="message__text" id="${t}"></li>\n          `);const s=document.getElementById(t);return this._setWindow(),void this._writingText(n,s)}if("quick"===t)return this._parentElement.insertAdjacentHTML("beforeend",`\n      <li class="message__text">${e}</li>\n          `),void this._setWindow();if("empty"===t){const e='\n        <li class="message__text">&nbsp;</li>\n        <li class="message__text">&nbsp;</li>\n            ';return this._parentElement.insertAdjacentHTML("beforeend",e),void this._setWindow()}const n=(new Date).toISOString().slice(-12),s=this._generateMarkup(e);this._parentElement.insertAdjacentHTML("beforeend",`\n      <li class="message__text" id="${n}"></li>\n          `);const r=document.getElementById(n);this._setWindow(),this._writingText(s,r)}_setWindow(){const e=document.querySelector(".text-box__container");e.scrollTo(0,e.scrollHeight)}_writingText(e,t){let n=0;const s=i.TYPING_SPEED;!function r(){n<e.length&&(t.innerHTML+=e.charAt(n),n++,setTimeout(r,s))}()}_renderExit(){var e;const t=`\n              <button class="exit hidden">\n                <svg class="exit__icon">\n                  ${r.default}\n                </svg>\n              </button>\n            `;null===(e=document.querySelector(".text-box"))||void 0===e||e.insertAdjacentHTML("afterbegin",t)}_clear(){this._parentElement.innerHTML=""}_clearInput(){this._responseInput.value=""}}},857:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(180));class i extends r.default{constructor(){super(),this._parentElement=document.querySelector(".message__list"),this._generateHeading=function(e){return`\n                <td class="header--2">${e}</td>\n          `},this._generateMarkup=function(e){return`> ${e}`}}addHandlerOptions(e){var t;null===(t=document.querySelector(".options"))||void 0===t||t.addEventListener("click",(function(t){const n=t.target.closest(".options__btn");if(!n)return;const{game:s}=n.dataset;document.querySelector(".exit").classList.toggle("hidden"),e(s)}))}addHandlerPlay(e){this._responseForm.addEventListener("submit",(function(t){t.preventDefault(),e()}))}addHandlerExit(e){this._textBox.addEventListener("click",(function(t){const n=t.target.closest(".exit");n&&(n.classList.toggle("hidden"),e())}))}initGame(e){"magic8Ball"===e&&(this._responseInput.placeholder="Question")}gameResponse(e){const t=this._responseInput.value;return t?(this._clearInput(),this._responseInput.placeholder=e.placeholder[1],t):this.render(e.error,"custom")}}t.default=new i},239:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(180));class i extends r.default{constructor(){super(),this._parentElement=document.querySelector(".message__list"),this._generateMarkup=function(e){return`> Welcome, ${e||"Mr X"}! What program do you want to try?`}}addHandlerName(e){this._responseForm.addEventListener("submit",(function(t){t.preventDefault(),e()}))}getName(){const e=this._responseInput.value;return this._clearInput(),e}}t.default=new i},337:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(180));class i extends r.default{constructor(){super(),this._options=document.querySelector(".options"),this._parentElement=document.querySelector(".interaction")}_toggleOptionResponse(){this._responseForm.classList.toggle("hidden"),this._options.classList.toggle("hidden")}_hideInteraction(){this._responseForm.classList.contains("hidden")||this._responseForm.classList.toggle("hidden"),this._options.classList.contains("hidden")||this._options.classList.toggle("hidden")}renderOption(){this._responseForm.classList.contains("hidden")||this._responseForm.classList.toggle("hidden"),this._options.classList.contains("hidden")&&this._options.classList.toggle("hidden")}setInteraction(e){if("response"===e.interaction)return this._responseInput.placeholder=e.placeholder[0],this._responseInput.type=e.inputType,e.inputOption&&this._responseInput.setAttribute(e.inputOption[0],e.inputOption[1]),this._toggleOptionResponse(),void this._responseInput.focus();this._hideInteraction()}resetResponse(){const e=this._responseInput;for(e.value="";e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);e.setAttribute("type","text"),e.setAttribute("class","response__text"),e.setAttribute("placeholder","Reset"),e.setAttribute("autocomplete","off")}}t.default=new i},874:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(180));class i extends r.default{constructor(){super(),this._parentElement=document.querySelector(".message__list"),this._generateMarkup=function(){return this._clear(),"> Hi! What is your name?"}}addHandlerIntro(e){this._renderExit(),window.addEventListener("load",(function(){e()}))}}t.default=new i},413:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(n(180));class i extends r.default{constructor(){super(),this._parentElement=document.querySelector(".message__list"),this._generateMarkup=function(e){const t=["Do you wish to try something else?",`Okay ${e}, what's next?`,"Lets do another one!","Are you done?"];return`> ${t[Math.trunc(Math.random()*t.length)]}`}}}t.default=new i}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(92)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUsUUFBV0EsSUFFeERqQixPQUFPQyxlQUFlRixFQUFTLGFBQWMsQ0FBRUcsT0FBTyxJQUN0RCxNQUFNeUgsRUFBU3BGLEVBQWdCLEVBQVEsTUFDdkMsTUFBTThHLFVBQWtCMUIsRUFBTzdFLFFBQzNCMkMsY0FDSW9DLFFBQ0F4SCxLQUFLOEYsZUFBaUJSLFNBQVNDLGNBQWMsa0JBQzdDdkYsS0FBS3VHLGdCQUFrQixTQUFVYixHQUM3QixNQUFNdUQsRUFBUSxDQUNWLHFDQUNBLFFBQVF2RCxrQkFDUix1QkFDQSxpQkFHSixNQUFPLEtBQUt1RCxFQURReEUsS0FBS0MsTUFBTUQsS0FBS0UsU0FBV3NFLEVBQU1yRSxhQUtqRWxGLEVBQUEsUUFBa0IsSUFBSXNKLElDckJsQkUsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjlJLElBQWpCK0ksRUFDSCxPQUFPQSxFQUFhM0osUUFHckIsSUFBSUQsRUFBU3lKLEVBQXlCRSxHQUFZLENBR2pEMUosUUFBUyxJQU9WLE9BSEE0SixFQUFvQkYsR0FBVW5JLEtBQUt4QixFQUFPQyxRQUFTRCxFQUFRQSxFQUFPQyxRQUFTeUosR0FHcEUxSixFQUFPQyxRQ3BCZnlKLEVBQW9CSSxFQUFLN0osSUFDSCxvQkFBWDhKLFFBQTBCQSxPQUFPQyxhQUMxQzlKLE9BQU9DLGVBQWVGLEVBQVM4SixPQUFPQyxZQUFhLENBQUU1SixNQUFPLFdBRTdERixPQUFPQyxlQUFlRixFQUFTLGFBQWMsQ0FBRUcsT0FBTyxLQ0Y3QnNKLEVBQW9CLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc0dhbWUvLi9zcmMvaW1nL1NWRy9jcm9zcy5zdmciLCJ3ZWJwYWNrOi8vanNHYW1lLy4vc3JjL3RzL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9qc0dhbWUvLi9zcmMvdHMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9qc0dhbWUvLi9zcmMvdHMvbW9kZWwudHMiLCJ3ZWJwYWNrOi8vanNHYW1lLy4vc3JjL3RzL3ZpZXdzL1ZpZXcudHMiLCJ3ZWJwYWNrOi8vanNHYW1lLy4vc3JjL3RzL3ZpZXdzL2dhbWVWaWV3LnRzIiwid2VicGFjazovL2pzR2FtZS8uL3NyYy90cy92aWV3cy9ncmVldGluZ1ZpZXcudHMiLCJ3ZWJwYWNrOi8vanNHYW1lLy4vc3JjL3RzL3ZpZXdzL2ludGVyYWN0aW9uVmlldy50cyIsIndlYnBhY2s6Ly9qc0dhbWUvLi9zcmMvdHMvdmlld3MvaW50cm9WaWV3LnRzIiwid2VicGFjazovL2pzR2FtZS8uL3NyYy90cy92aWV3cy9yZXNldFZpZXcudHMiLCJ3ZWJwYWNrOi8vanNHYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2pzR2FtZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2pzR2FtZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmVyc2lvbj1cXFwiMS4xXFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHRpdGxlPmNyb3NzPC90aXRsZT48cGF0aCBkPVxcXCJNMzEuNzA4IDI1LjcwOGMtMC0wLTAtMC0wLTBsLTkuNzA4LTkuNzA4IDkuNzA4LTkuNzA4YzAtMCAwLTAgMC0wIDAuMTA1LTAuMTA1IDAuMTgtMC4yMjcgMC4yMjktMC4zNTcgMC4xMzMtMC4zNTYgMC4wNTctMC43NzEtMC4yMjktMS4wNTdsLTQuNTg2LTQuNTg2Yy0wLjI4Ni0wLjI4Ni0wLjcwMi0wLjM2MS0xLjA1Ny0wLjIyOS0wLjEzIDAuMDQ4LTAuMjUyIDAuMTI0LTAuMzU3IDAuMjI4IDAgMC0wIDAtMCAwbC05LjcwOCA5LjcwOC05LjcwOC05LjcwOGMtMC0wLTAtMC0wLTAtMC4xMDUtMC4xMDQtMC4yMjctMC4xOC0wLjM1Ny0wLjIyOC0wLjM1Ni0wLjEzMy0wLjc3MS0wLjA1Ny0xLjA1NyAwLjIyOWwtNC41ODYgNC41ODZjLTAuMjg2IDAuMjg2LTAuMzYxIDAuNzAyLTAuMjI5IDEuMDU3IDAuMDQ5IDAuMTMgMC4xMjQgMC4yNTIgMC4yMjkgMC4zNTcgMCAwIDAgMCAwIDBsOS43MDggOS43MDgtOS43MDggOS43MDhjLTAgMC0wIDAtMCAwLTAuMTA0IDAuMTA1LTAuMTggMC4yMjctMC4yMjkgMC4zNTctMC4xMzMgMC4zNTUtMC4wNTcgMC43NzEgMC4yMjkgMS4wNTdsNC41ODYgNC41ODZjMC4yODYgMC4yODYgMC43MDIgMC4zNjEgMS4wNTcgMC4yMjkgMC4xMy0wLjA0OSAwLjI1Mi0wLjEyNCAwLjM1Ny0wLjIyOSAwLTAgMC0wIDAtMGw5LjcwOC05LjcwOCA5LjcwOCA5LjcwOGMwIDAgMCAwIDAgMCAwLjEwNSAwLjEwNSAwLjIyNyAwLjE4IDAuMzU3IDAuMjI5IDAuMzU2IDAuMTMzIDAuNzcxIDAuMDU3IDEuMDU3LTAuMjI5bDQuNTg2LTQuNTg2YzAuMjg2LTAuMjg2IDAuMzYyLTAuNzAyIDAuMjI5LTEuMDU3LTAuMDQ5LTAuMTMtMC4xMjQtMC4yNTItMC4yMjktMC4zNTd6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLlRZUElOR19TUEVFRCA9IHZvaWQgMDtcclxuZXhwb3J0cy5UWVBJTkdfU1BFRUQgPSAyMDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KSk7XHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCkgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufSk7XHJcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxucmVxdWlyZShcIi4uL3Nhc3MvbWFpbi5zY3NzXCIpO1xyXG5jb25zdCBtb2RlbCA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi9tb2RlbFwiKSk7XHJcbmNvbnN0IGludHJvVmlld18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpZXdzL2ludHJvVmlld1wiKSk7XHJcbmNvbnN0IGludGVyYWN0aW9uVmlld18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpZXdzL2ludGVyYWN0aW9uVmlld1wiKSk7XHJcbmNvbnN0IGdyZWV0aW5nVmlld18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3ZpZXdzL2dyZWV0aW5nVmlld1wiKSk7XHJcbmNvbnN0IGdhbWVWaWV3XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdmlld3MvZ2FtZVZpZXdcIikpO1xyXG5jb25zdCByZXNldFZpZXdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi92aWV3cy9yZXNldFZpZXdcIikpO1xyXG5jb25zdCBjb250cm9sSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgaW50cm9WaWV3XzEuZGVmYXVsdC5yZW5kZXIoKTtcclxuICAgIH0pO1xyXG59O1xyXG5jb25zdCBjb250cm9sTmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChtb2RlbC5zdGF0ZS5uYW1lKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IG5hbWUgPSBncmVldGluZ1ZpZXdfMS5kZWZhdWx0LmdldE5hbWUoKTtcclxuICAgIGlmICghbmFtZSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBtb2RlbC5zdGF0ZS5uYW1lID0gbmFtZTtcclxuICAgIGdyZWV0aW5nVmlld18xLmRlZmF1bHQucmVuZGVyKG1vZGVsLnN0YXRlLm5hbWUpO1xyXG4gICAgaW50ZXJhY3Rpb25WaWV3XzEuZGVmYXVsdC5yZW5kZXJPcHRpb24oKTtcclxufTtcclxuY29uc3QgY29udHJvbFBpY2tHYW1lID0gZnVuY3Rpb24gKGNob3NlbkdhbWUpIHtcclxuICAgIGNvbnN0IGdhbWUgPSBtb2RlbC5nYW1lcy5maW5kKGcgPT4gZy5pZCA9PT0gY2hvc2VuR2FtZSk7XHJcbiAgICBpZiAoIWdhbWUpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgbW9kZWwuc3RhdGUuYWN0aXZlID0gY2hvc2VuR2FtZTtcclxuICAgIGdhbWVWaWV3XzEuZGVmYXVsdC5yZW5kZXIoZ2FtZS5oZWFkaW5nLCAnaGVhZGluZycpO1xyXG4gICAgaWYgKGdhbWUuc3ViSGVhZGluZylcclxuICAgICAgICBnYW1lVmlld18xLmRlZmF1bHQucmVuZGVyKGdhbWUuc3ViSGVhZGluZywgJ3N1YkhlYWRpbmcnKTtcclxuICAgIGdhbWVWaWV3XzEuZGVmYXVsdC5yZW5kZXIoZ2FtZS5pbnRybyk7XHJcbiAgICBpbnRlcmFjdGlvblZpZXdfMS5kZWZhdWx0LnNldEludGVyYWN0aW9uKGdhbWUpO1xyXG59O1xyXG5jb25zdCBjb250cm9sUGxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGdhbWUgPSBtb2RlbC5nYW1lcy5maW5kKGcgPT4gZy5pZCA9PT0gbW9kZWwuc3RhdGUuYWN0aXZlKTtcclxuICAgIGlmICghZ2FtZSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGdhbWVWaWV3XzEuZGVmYXVsdC5nYW1lUmVzcG9uc2UoZ2FtZSk7XHJcbiAgICBpZiAoIXJlc3BvbnNlKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGdhbWVWaWV3XzEuZGVmYXVsdC5yZW5kZXIoZ2FtZS5wbGF5KHJlc3BvbnNlKSwgZ2FtZS5yZW5kZXJUeXBlKTtcclxufTtcclxuY29uc3QgY29udHJvbEV4aXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpbnRlcmFjdGlvblZpZXdfMS5kZWZhdWx0LnJlbmRlck9wdGlvbigpO1xyXG4gICAgaW50ZXJhY3Rpb25WaWV3XzEuZGVmYXVsdC5yZXNldFJlc3BvbnNlKCk7XHJcbiAgICBtb2RlbC5zdGF0ZS5hY3RpdmUgPSAnJztcclxuICAgIHJlc2V0Vmlld18xLmRlZmF1bHQucmVuZGVyKCcnLCAnZW1wdHknKTtcclxuICAgIHJlc2V0Vmlld18xLmRlZmF1bHQucmVuZGVyKG1vZGVsLnN0YXRlLm5hbWUpO1xyXG59O1xyXG5jb25zdCBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaW50cm9WaWV3XzEuZGVmYXVsdC5hZGRIYW5kbGVySW50cm8oY29udHJvbEluaXQpO1xyXG4gICAgZ3JlZXRpbmdWaWV3XzEuZGVmYXVsdC5hZGRIYW5kbGVyTmFtZShjb250cm9sTmFtZSk7XHJcbiAgICBnYW1lVmlld18xLmRlZmF1bHQuYWRkSGFuZGxlck9wdGlvbnMoY29udHJvbFBpY2tHYW1lKTtcclxuICAgIGdhbWVWaWV3XzEuZGVmYXVsdC5hZGRIYW5kbGVyUGxheShjb250cm9sUGxheSk7XHJcbiAgICBnYW1lVmlld18xLmRlZmF1bHQuYWRkSGFuZGxlckV4aXQoY29udHJvbEV4aXQpO1xyXG59O1xyXG5pbml0KCk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZ2FtZXMgPSBleHBvcnRzLnN0YXRlID0gdm9pZCAwO1xyXG5leHBvcnRzLnN0YXRlID0ge1xyXG4gICAgbmFtZTogJycsXHJcbiAgICBhY3RpdmU6ICcnLFxyXG59O1xyXG5leHBvcnRzLmdhbWVzID0gW1xyXG4gICAge1xyXG4gICAgICAgIGhlYWRpbmc6ICdUaWMgVGFjIFRvZScsXHJcbiAgICAgICAgaWQ6ICd0aWN0YWN0b2UnLFxyXG4gICAgICAgIGludHJvOiAnR0FNRSBOT1QgUkVBRFkhJyxcclxuICAgICAgICBlcnJvcjogJycsXHJcbiAgICAgICAgcmVuZGVyVHlwZTogJycsXHJcbiAgICAgICAgaW50ZXJhY3Rpb246ICcnLFxyXG4gICAgICAgIGlucHV0VHlwZTogJycsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IFsnUXVlc3Rpb24nLCAnQW5vdGhlciBxdWVzdGlvbiddLFxyXG4gICAgICAgIHBsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdOT1QgUkVBRFkhJztcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBoZWFkaW5nOiAnSW52ZW50b3J5IENoZWNrJyxcclxuICAgICAgICBpZDogJ2ludmVudG9yeWNoZWNrJyxcclxuICAgICAgICBpbnRybzogJ0dBTUUgTk9UIFJFQURZIScsXHJcbiAgICAgICAgZXJyb3I6ICcnLFxyXG4gICAgICAgIHJlbmRlclR5cGU6ICcnLFxyXG4gICAgICAgIGludGVyYWN0aW9uOiAnJyxcclxuICAgICAgICBpbnB1dFR5cGU6ICcnLFxyXG4gICAgICAgIHBsYWNlaG9sZGVyOiBbJ1F1ZXN0aW9uJywgJ0Fub3RoZXIgcXVlc3Rpb24nXSxcclxuICAgICAgICBwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnTk9UIFJFQURZISc7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgaGVhZGluZzogJ01hZ2ljIDggQmFsbCcsXHJcbiAgICAgICAgaWQ6ICdtYWdpYzhCYWxsJyxcclxuICAgICAgICBpbnRybzogJ0FzayBtZSBhIHF1ZXN0aW9uIScsXHJcbiAgICAgICAgZXJyb3I6ICc+IFlvdSBuZWVkIHRvIHR5cGUgc29tZXRoaW5nLi4uJyxcclxuICAgICAgICByZW5kZXJUeXBlOiAnJyxcclxuICAgICAgICBpbnRlcmFjdGlvbjogJ3Jlc3BvbnNlJyxcclxuICAgICAgICBpbnB1dFR5cGU6ICd0ZXh0JyxcclxuICAgICAgICBwbGFjZWhvbGRlcjogWydRdWVzdGlvbicsICdBbm90aGVyIHF1ZXN0aW9uPyddLFxyXG4gICAgICAgIHBsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgYW5zd2VycyA9IFtcclxuICAgICAgICAgICAgICAgICdOb3Qgd2l0aCB0aGF0IGxvb2suLi4nLFxyXG4gICAgICAgICAgICAgICAgJ0dldCBvdXQgb2YgaGVyZScsXHJcbiAgICAgICAgICAgICAgICAnWWVzIScsXHJcbiAgICAgICAgICAgICAgICAnTm8uLicsXHJcbiAgICAgICAgICAgICAgICAnRHVtIHF1ZXN0aW9uLi5uZXh0IScsXHJcbiAgICAgICAgICAgICAgICBgV2UnbGwgc2VlYCxcclxuICAgICAgICAgICAgICAgICdNYXliZScsXHJcbiAgICAgICAgICAgICAgICAnRG8geW91IG5lZWQgYSBodWc/JyxcclxuICAgICAgICAgICAgICAgICdUaGluayBhYm91dCBpdC4uJyxcclxuICAgICAgICAgICAgICAgICdIdXNoIScsXHJcbiAgICAgICAgICAgICAgICAnRXchJyxcclxuICAgICAgICAgICAgICAgICdXaGF0IGlzIHlvdXIgcG9pbnQ/IFN0dXBpZC4uJyxcclxuICAgICAgICAgICAgICAgICdrJyxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLnRydW5jKE1hdGgucmFuZG9tKCkgKiBhbnN3ZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBhbnN3ZXJzW2luZGV4XTtcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBoZWFkaW5nOiAnQ29sbGF0eicsXHJcbiAgICAgICAgc3ViSGVhZGluZzogYE1hdGgncyBzaW1wbGVzdCBpbXBvc3NpYmxlIHByb2JsZW0hPGJyPklmIHlvdSB0YWtlIGEgbnVtYmVyIHRocm91Z2ggdGhpcyBlcXVhdGlvbiB0aGUgb3V0cHV0IHdpbGwgYWx3YXlzIGJlY29tZSAxLCB3aGF0ZXZlciBwb3NpdGl2ZSBudW1iZXIuIFRoZSBlcXVhdGlvbiB3aWxsIHRha2UgYSBldmVuIG51bWJlciBlbiBkaXZpZGUgaXQgYnkgMiwgYW5kIGEgb2RkIG51bWJlciB3aWxsIGJlIG11bHRpcGxpZWQgYnkgMyBhbmQgYmUgYWRkZWQgYSAxLiBUaGUgcmVzdWx0IHdpbGwgZ28gdGhyb3VnaCB0aGUgc2FtZSBwcm9jZXNzIGFuZCBmaW5hbGx5IGdpdmUgdXMgMSBhcyB0aGUgZmluYWwgcmVzdWx0YCxcclxuICAgICAgICBpZDogJ2NvbGxhdHonLFxyXG4gICAgICAgIGludHJvOiBgVHJ5IGl0IG91dCA6KWAsXHJcbiAgICAgICAgZXJyb3I6ICc+IFlvdSBuZWVkIHRvIGdpdmUgYSBudW1iZXIuLi4nLFxyXG4gICAgICAgIHJlbmRlclR5cGU6ICdxdWljaycsXHJcbiAgICAgICAgaW50ZXJhY3Rpb246ICdyZXNwb25zZScsXHJcbiAgICAgICAgaW5wdXRUeXBlOiAnbnVtYmVyJyxcclxuICAgICAgICBpbnB1dE9wdGlvbjogWydtaW4nLCAnMSddLFxyXG4gICAgICAgIHBsYWNlaG9sZGVyOiBbJ051bWJlcicsICdUcnkgYWdhaW4gOiknXSxcclxuICAgICAgICBwbGF5OiBmdW5jdGlvbiAoaW50KSB7XHJcbiAgICAgICAgICAgIGxldCBudW0gPSAraW50O1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbbnVtXTtcclxuICAgICAgICAgICAgd2hpbGUgKG51bSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bSAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBudW0gLz0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG51bSA9IG51bSAqIDMgKyAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJyAtPiAnKTtcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBoZWFkaW5nOiAnR3Vlc3MgVGhlIE51bWJlcicsXHJcbiAgICAgICAgaWQ6ICdndWVzc3RoZW51bWJlcicsXHJcbiAgICAgICAgaW50cm86ICdHQU1FIE5PVCBSRUFEWSEnLFxyXG4gICAgICAgIGVycm9yOiAnJyxcclxuICAgICAgICByZW5kZXJUeXBlOiAnJyxcclxuICAgICAgICBpbnRlcmFjdGlvbjogJycsXHJcbiAgICAgICAgaW5wdXRUeXBlOiAnJyxcclxuICAgICAgICBwbGFjZWhvbGRlcjogWydRdWVzdGlvbicsICdBbm90aGVyIHF1ZXN0aW9uJ10sXHJcbiAgICAgICAgcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ05PVCBSRUFEWSEnO1xyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG5dO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBjcm9zc19zdmdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vaW1nL1NWRy9jcm9zcy5zdmdcIikpO1xyXG5jb25zdCBjb25maWdfMSA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XHJcbmNsYXNzIFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LWJveCcpO1xyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZXNwb25zZScpO1xyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVzcG9uc2VfX3RleHQnKTtcclxuICAgIH1cclxuICAgIHJlbmRlcihkYXRhID0gJycsIHR5cGUgPSAnJykge1xyXG4gICAgICAgIGlmICh0eXBlID09PSAnaGVhZGluZycpIHtcclxuICAgICAgICAgICAgY29uc3QgbWFya1VwID0gdGhpcy5fZ2VuZXJhdGVIZWFkaW5nKGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgbWFya1VwKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0V2luZG93KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzdWJIZWFkaW5nJykge1xyXG4gICAgICAgICAgICBjb25zdCBtYXJrVXAgPSBgPGxpIGNsYXNzPVwibWVzc2FnZV9fdGV4dC0tc3ViXCI+JHtkYXRhfTwvbGk+YDtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG1hcmtVcCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdjdXN0b20nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKC0xMik7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmtVcCA9IGRhdGE7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgXHJcbiAgICAgIDxsaSBjbGFzcz1cIm1lc3NhZ2VfX3RleHRcIiBpZD1cIiR7aWR9XCI+PC9saT5cclxuICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldFdpbmRvdygpO1xyXG4gICAgICAgICAgICB0aGlzLl93cml0aW5nVGV4dChtYXJrVXAsIHBvcyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdxdWljaycpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGBcclxuICAgICAgPGxpIGNsYXNzPVwibWVzc2FnZV9fdGV4dFwiPiR7ZGF0YX08L2xpPlxyXG4gICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldFdpbmRvdygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSAnZW1wdHknKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcmtVcCA9IGBcclxuICAgICAgICA8bGkgY2xhc3M9XCJtZXNzYWdlX190ZXh0XCI+Jm5ic3A7PC9saT5cclxuICAgICAgICA8bGkgY2xhc3M9XCJtZXNzYWdlX190ZXh0XCI+Jm5ic3A7PC9saT5cclxuICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG1hcmtVcCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldFdpbmRvdygpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlkID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKC0xMik7XHJcbiAgICAgICAgY29uc3QgbWFya1VwID0gdGhpcy5fZ2VuZXJhdGVNYXJrdXAoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGBcclxuICAgICAgPGxpIGNsYXNzPVwibWVzc2FnZV9fdGV4dFwiIGlkPVwiJHtpZH1cIj48L2xpPlxyXG4gICAgICAgICAgYCk7XHJcbiAgICAgICAgY29uc3QgcG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgICAgIHRoaXMuX3NldFdpbmRvdygpO1xyXG4gICAgICAgIHRoaXMuX3dyaXRpbmdUZXh0KG1hcmtVcCwgcG9zKTtcclxuICAgIH1cclxuICAgIF9zZXRXaW5kb3coKSB7XHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRleHQtYm94X19jb250YWluZXInKTtcclxuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG8oMCwgY29udGFpbmVyLnNjcm9sbEhlaWdodCk7XHJcbiAgICB9XHJcbiAgICBfd3JpdGluZ1RleHQobWFya1VwLCBwb3NpdGlvbikge1xyXG4gICAgICAgIGxldCB0ZXh0UG9zaXRpb24gPSAwO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gY29uZmlnXzEuVFlQSU5HX1NQRUVEO1xyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlKCkge1xyXG4gICAgICAgICAgICBpZiAodGV4dFBvc2l0aW9uIDwgbWFya1VwLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24uaW5uZXJIVE1MICs9IG1hcmtVcC5jaGFyQXQodGV4dFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIHRleHRQb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh3cml0ZSwgc3BlZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdyaXRlKCk7XHJcbiAgICB9XHJcbiAgICBfcmVuZGVyRXhpdCgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgbWFya1VwID0gYFxyXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJleGl0IGhpZGRlblwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImV4aXRfX2ljb25cIj5cclxuICAgICAgICAgICAgICAgICAgJHtjcm9zc19zdmdfMS5kZWZhdWx0fVxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgICAgKF9hID0gZG9jdW1lbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LWJveCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgbWFya1VwKTtcclxuICAgIH1cclxuICAgIF9jbGVhcigpIHtcclxuICAgICAgICB0aGlzLl9wYXJlbnRFbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgfVxyXG4gICAgX2NsZWFySW5wdXQoKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzcG9uc2VJbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IFZpZXc7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IFZpZXdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WaWV3XCIpKTtcclxuY2xhc3MgR2FtZVZpZXcgZXh0ZW5kcyBWaWV3XzEuZGVmYXVsdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZV9fbGlzdCcpO1xyXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlSGVhZGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJoZWFkZXItLTJcIj4ke2RhdGF9PC90ZD5cclxuICAgICAgICAgIGA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9nZW5lcmF0ZU1hcmt1cCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPiAke2RhdGF9YDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgYWRkSGFuZGxlck9wdGlvbnMoaGFuZGxlcikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3B0aW9ucycpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVzcyA9IGUudGFyZ2V0O1xyXG4gICAgICAgICAgICBjb25zdCBidG4gPSBwcmVzcy5jbG9zZXN0KCcub3B0aW9uc19fYnRuJyk7XHJcbiAgICAgICAgICAgIGlmICghYnRuKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCB7IGdhbWUgfSA9IGJ0bi5kYXRhc2V0O1xyXG4gICAgICAgICAgICBjb25zdCBleGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV4aXQnKTtcclxuICAgICAgICAgICAgZXhpdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgaGFuZGxlcihnYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFkZEhhbmRsZXJQbGF5KGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9yZXNwb25zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBoYW5kbGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBhZGRIYW5kbGVyRXhpdChoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fdGV4dEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXNzID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IHByZXNzLmNsb3Nlc3QoJy5leGl0Jyk7XHJcbiAgICAgICAgICAgIGlmICghYnRuKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGhhbmRsZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGluaXRHYW1lKGdhbWUpIHtcclxuICAgICAgICBpZiAoZ2FtZSA9PT0gJ21hZ2ljOEJhbGwnKVxyXG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUlucHV0LnBsYWNlaG9sZGVyID0gJ1F1ZXN0aW9uJztcclxuICAgIH1cclxuICAgIGdhbWVSZXNwb25zZShnYW1lKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLl9yZXNwb25zZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIGlmICghcmVzcG9uc2UpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcihnYW1lLmVycm9yLCAnY3VzdG9tJyk7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJJbnB1dCgpO1xyXG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSW5wdXQucGxhY2Vob2xkZXIgPSBnYW1lLnBsYWNlaG9sZGVyWzFdO1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBuZXcgR2FtZVZpZXcoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgVmlld18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZpZXdcIikpO1xyXG5jbGFzcyBHcmVldGluZ1ZpZXcgZXh0ZW5kcyBWaWV3XzEuZGVmYXVsdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZV9fbGlzdCcpO1xyXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlTWFya3VwID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGA+IFdlbGNvbWUsICR7ZGF0YSA/IGRhdGEgOiAnTXIgWCd9ISBXaGF0IHByb2dyYW0gZG8geW91IHdhbnQgdG8gdHJ5P2A7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGFkZEhhbmRsZXJOYW1lKGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLl9yZXNwb25zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBoYW5kbGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9yZXNwb25zZUlucHV0LnZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2NsZWFySW5wdXQoKTtcclxuICAgICAgICByZXR1cm4gbmFtZTtcclxuICAgIH1cclxufVxyXG5leHBvcnRzLmRlZmF1bHQgPSBuZXcgR3JlZXRpbmdWaWV3KCk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IFZpZXdfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9WaWV3XCIpKTtcclxuY2xhc3MgSW50ZXJhY3Rpb25WaWV3IGV4dGVuZHMgVmlld18xLmRlZmF1bHQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLl9vcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9wdGlvbnMnKTtcclxuICAgICAgICB0aGlzLl9wYXJlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludGVyYWN0aW9uJyk7XHJcbiAgICB9XHJcbiAgICBfdG9nZ2xlT3B0aW9uUmVzcG9uc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcmVzcG9uc2VGb3JtLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgICBfaGlkZUludGVyYWN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fcmVzcG9uc2VGb3JtLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpXHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNlRm9ybS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSlcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIH1cclxuICAgIHJlbmRlck9wdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3Jlc3BvbnNlRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKVxyXG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUZvcm0uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSlcclxuICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIH1cclxuICAgIHNldEludGVyYWN0aW9uKGdhbWUpIHtcclxuICAgICAgICBpZiAoZ2FtZS5pbnRlcmFjdGlvbiA9PT0gJ3Jlc3BvbnNlJykge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUlucHV0LnBsYWNlaG9sZGVyID0gZ2FtZS5wbGFjZWhvbGRlclswXTtcclxuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VJbnB1dC50eXBlID0gZ2FtZS5pbnB1dFR5cGU7XHJcbiAgICAgICAgICAgIGlmIChnYW1lLmlucHV0T3B0aW9uKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VJbnB1dC5zZXRBdHRyaWJ1dGUoZ2FtZS5pbnB1dE9wdGlvblswXSwgZ2FtZS5pbnB1dE9wdGlvblsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZU9wdGlvblJlc3BvbnNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3BvbnNlSW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9oaWRlSW50ZXJhY3Rpb24oKTtcclxuICAgIH1cclxuICAgIHJlc2V0UmVzcG9uc2UoKSB7XHJcbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLl9yZXNwb25zZUlucHV0O1xyXG4gICAgICAgIGVsLnZhbHVlID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKGVsLmF0dHJpYnV0ZXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGVsLmF0dHJpYnV0ZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Jlc3BvbnNlX190ZXh0Jyk7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdSZXNldCcpO1xyXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuZGVmYXVsdCA9IG5ldyBJbnRlcmFjdGlvblZpZXcoKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgVmlld18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1ZpZXdcIikpO1xyXG5jbGFzcyBJbnRyb1ZpZXcgZXh0ZW5kcyBWaWV3XzEuZGVmYXVsdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuX3BhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZV9fbGlzdCcpO1xyXG4gICAgICAgIHRoaXMuX2dlbmVyYXRlTWFya3VwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jbGVhcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gYD4gSGkhIFdoYXQgaXMgeW91ciBuYW1lP2A7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGFkZEhhbmRsZXJJbnRybyhoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyRXhpdCgpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoYW5kbGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gbmV3IEludHJvVmlldygpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBWaWV3XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vVmlld1wiKSk7XHJcbmNsYXNzIFJlc2V0VmlldyBleHRlbmRzIFZpZXdfMS5kZWZhdWx0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlX19saXN0Jyk7XHJcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVNYXJrdXAgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNldCA9IFtcclxuICAgICAgICAgICAgICAgIGBEbyB5b3Ugd2lzaCB0byB0cnkgc29tZXRoaW5nIGVsc2U/YCxcclxuICAgICAgICAgICAgICAgIGBPa2F5ICR7ZGF0YX0sIHdoYXQncyBuZXh0P2AsXHJcbiAgICAgICAgICAgICAgICBgTGV0cyBkbyBhbm90aGVyIG9uZSFgLFxyXG4gICAgICAgICAgICAgICAgYEFyZSB5b3UgZG9uZT9gLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBjb25zdCByZXNldE51bWJlciA9IE1hdGgudHJ1bmMoTWF0aC5yYW5kb20oKSAqIHJlc2V0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBgPiAke3Jlc2V0W3Jlc2V0TnVtYmVyXX1gO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gbmV3IFJlc2V0VmlldygpO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlRZUElOR19TUEVFRCIsIl9fY3JlYXRlQmluZGluZyIsInRoaXMiLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImVudW1lcmFibGUiLCJnZXQiLCJfX3NldE1vZHVsZURlZmF1bHQiLCJ2IiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19lc01vZHVsZSIsInJlc3VsdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiX19pbXBvcnREZWZhdWx0IiwibW9kZWwiLCJpbnRyb1ZpZXdfMSIsImludGVyYWN0aW9uVmlld18xIiwiZ3JlZXRpbmdWaWV3XzEiLCJnYW1lVmlld18xIiwicmVzZXRWaWV3XzEiLCJkZWZhdWx0IiwiYWRkSGFuZGxlckludHJvIiwicmVuZGVyIiwiYWRkSGFuZGxlck5hbWUiLCJzdGF0ZSIsIm5hbWUiLCJnZXROYW1lIiwicmVuZGVyT3B0aW9uIiwiYWRkSGFuZGxlck9wdGlvbnMiLCJjaG9zZW5HYW1lIiwiZ2FtZSIsImdhbWVzIiwiZmluZCIsImciLCJpZCIsImFjdGl2ZSIsImhlYWRpbmciLCJzdWJIZWFkaW5nIiwiaW50cm8iLCJzZXRJbnRlcmFjdGlvbiIsImFkZEhhbmRsZXJQbGF5IiwicmVzcG9uc2UiLCJnYW1lUmVzcG9uc2UiLCJwbGF5IiwicmVuZGVyVHlwZSIsImFkZEhhbmRsZXJFeGl0IiwicmVzZXRSZXNwb25zZSIsImVycm9yIiwiaW50ZXJhY3Rpb24iLCJpbnB1dFR5cGUiLCJwbGFjZWhvbGRlciIsImFuc3dlcnMiLCJNYXRoIiwidHJ1bmMiLCJyYW5kb20iLCJsZW5ndGgiLCJpbnB1dE9wdGlvbiIsImludCIsIm51bSIsInB1c2giLCJqb2luIiwiY3Jvc3Nfc3ZnXzEiLCJjb25maWdfMSIsImNvbnN0cnVjdG9yIiwiX3RleHRCb3giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfcmVzcG9uc2VGb3JtIiwiX3Jlc3BvbnNlSW5wdXQiLCJkYXRhIiwidHlwZSIsIm1hcmtVcCIsIl9nZW5lcmF0ZUhlYWRpbmciLCJfcGFyZW50RWxlbWVudCIsImluc2VydEFkamFjZW50SFRNTCIsIl9zZXRXaW5kb3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJzbGljZSIsInBvcyIsImdldEVsZW1lbnRCeUlkIiwiX3dyaXRpbmdUZXh0IiwiX2dlbmVyYXRlTWFya3VwIiwiY29udGFpbmVyIiwic2Nyb2xsVG8iLCJzY3JvbGxIZWlnaHQiLCJwb3NpdGlvbiIsInRleHRQb3NpdGlvbiIsInNwZWVkIiwid3JpdGUiLCJpbm5lckhUTUwiLCJjaGFyQXQiLCJzZXRUaW1lb3V0IiwiX3JlbmRlckV4aXQiLCJfYSIsIl9jbGVhciIsIl9jbGVhcklucHV0IiwiVmlld18xIiwiR2FtZVZpZXciLCJzdXBlciIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuIiwidGFyZ2V0IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJwcmV2ZW50RGVmYXVsdCIsImluaXRHYW1lIiwiR3JlZXRpbmdWaWV3IiwiSW50ZXJhY3Rpb25WaWV3IiwiX29wdGlvbnMiLCJfdG9nZ2xlT3B0aW9uUmVzcG9uc2UiLCJfaGlkZUludGVyYWN0aW9uIiwiY29udGFpbnMiLCJzZXRBdHRyaWJ1dGUiLCJmb2N1cyIsImVsIiwiYXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsIkludHJvVmlldyIsIndpbmRvdyIsIlJlc2V0VmlldyIsInJlc2V0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=